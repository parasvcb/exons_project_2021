#### Object creation and softlinks
  ##### running programs for OBJECT Creation(change the loc obsviously)
    <!-- programs below checks and downloads the set data -->
    python bin/1_constructing_data/object_builder_latest.py outdir/oldSet_human19_orgs_18/9606_args_nossconfidence.txt 
      Processing genes |################################| 19730/19730in main program
      ->Part:13, Section:helix_confidence_processing_done
      ->Part:14, Section:congratulations, analysis done too
    python bin/1_constructing_data/object_builder_latest.py outdir/oldSet_human19_orgs_18/7955_args_nossconfidence.txt 
      Processing aaseq into exons, gene_wise: |################################| 30083/30083
      Out of total 48257 variants, 48257 were already written, use freshStart mode 2 for rewrite all
      Processing genes |################################| 26088/26088in main program
    python bin/1_constructing_data/object_builder_latest.py outdir/oldSet_human19_orgs_18/6239_args_nossconfidence.txt 
      Processing aaseq into exons, gene_wise: |################################| 19465/19465
      Out of total 27209 variants, 27209 were already written, use freshStart mode 2 for rewrite all
      Processing genes |################################| 19308/19308in main program
    python bin/1_constructing_data/object_builder_latest.py outdir/oldSet_human19_orgs_18/7227_args_nossconfidence.txt 
      Processing aaseq into exons, gene_wise: |################################| 9029/9029
      Out of total 18643 variants, 18643 were already written, use freshStart mode 2 for rewrite all
      Processing genes |################################| 9024/9024in main program

  ##### creating softlink of OBJECTS to one common dir
    ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/7227/derived_data/results/objectsave_7227__noStructure.pick outdir/oldSet_human19_orgs_18/objectsToDB/
    ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/7955/derived_data/results/objectsave_7955__noStructure.pick outdir/oldSet_human19_orgs_18/objectsToDB/
    ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/10090/derived_data/results/objectsave_10090__noStructure.pick outdir/oldSet_human19_orgs_18/objectsToDB/
    ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/6239/derived_data/results/objectsave_6239__noStructure.pick outdir/oldSet_human19_orgs_18/objectsToDB/
    ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/9606_1/derived_data/results/objectsave_9606__noStructure.pick outdir/oldSet_human19_orgs_18/objectsToDB/

  ##### The general Statistics (Fig1)
    python bin/creating_figures_python/Fig1_general_stats.py outdir/oldSet_human19_orgs_18/objectsToDB/objectsave_10090__noStructure.pick outdir/oldSet_human19_orgs_18/10090/derived_data/resultscsv/general/
    python bin/creating_figures_python/Fig1_general_stats.py outdir/oldSet_human19_orgs_18/objectsToDB/objectsave_9606__noStructure.pick outdir/oldSet_human19_orgs_18/9606_1/derived_data/resultscsv/general/
    python bin/creating_figures_python/Fig1_general_stats.py outdir/oldSet_human19_orgs_18/objectsToDB/objectsave_7227__noStructure.pick outdir/oldSet_human19_orgs_18/7227/derived_data/resultscsv/general/
    python bin/creating_figures_python/Fig1_general_stats.py outdir/oldSet_human19_orgs_18/objectsToDB/objectsave_7955__noStructure.pick outdir/oldSet_human19_orgs_18/7955/derived_data/resultscsv/general/
    python bin/creating_figures_python/Fig1_general_stats.py outdir/oldSet_human19_orgs_18/objectsToDB/objectsave_6239__noStructure.pick outdir/oldSet_human19_orgs_18/6239/derived_data/resultscsv/general/

    rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/6239/derived_data/resultscsv/general/ elegans_general1
    rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/10090/derived_data/resultscsv/general/ mouse_general1
    rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/9606_1/derived_data/resultscsv/general/ human_general1
    rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/7227/derived_data/resultscsv/general/ fly_general1
    rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/7955/derived_data/resultscsv/general/ fish_general1

    conda activate base 
    python bin/db_analysis/transPerGeneComparison.py outdir/oldSet_human19_orgs_18/db_args_file.sh 2 outdir/oldSet_human19_orgs_18/db_analysis_out2vs2/
    python bin/db_analysis/transPerGeneComparison.py outdir/oldSet_human19_orgs_18/db_args_file.sh 4 outdir/oldSet_human19_orgs_18/db_analysis_out4vs4/
    <!-- args file above contain informatin like
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/10090/derived_data/resultscsv/general/
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/9606_1/derived_data/resultscsv/general/
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/7227/derived_data/resultscsv/general/
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/7955/derived_data/resultscsv/general/
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/oldSet_human19_orgs_18/6239/derived_data/resultscsv/general/ -->

    Rscript bin/db_analysis/plots.R outdir/oldSet_human19_orgs_18/db_analysis_out2vs2/ outdir/oldSet_human19_orgs_18/db_analysis_out2vs2/
    Rscript bin/db_analysis/plots.R outdir/oldSet_human19_orgs_18/db_analysis_out4vs4/ outdir/oldSet_human19_orgs_18/db_analysis_out4vs4/

#### database import and export
  ##### export
  mysqldump -u root -p enactdb > enactd.sql

  ##### import
  scp menton:/home/paras/exonsdrive/project/protein_splicing/projectDir/enact* ./
  drop database enactdb;
  CREATE DATABASE enactdb;
  mysql -u root -p enactdb  < enactd.sql

  ##### feeding object to mysql and pushing it  
  ```console
  python bin/2_object_to_database/T1_mysql.py outdir/oldSet_human19_orgs_18/objectsToDB/ ./
  mysqldump -u root -p enactdb > enactdb.sql

  scp menton:/home/paras/exonsdrive/project/protein_splicing/projectDir/*.sql ./

  [paras@newJensen comp_3_django]$ mysql -u root -p
  mysql> drop database enactdb
      -> ;
  Query OK, 8 rows affected (2.63 sec)

  mysql> create database enactdb;
  Query OK, 1 row affected (0.10 sec)

  mysql> exit;
  Bye
  [paras@newJensen comp_3_django]$ mysql -u root -p enactdb  < enactdb.sql
  ```

##### start afresh 2022 build
On 27 nov 22, Sunday, I am going to start afresh for all the organisms (internet connection is soooooo poor that it will make me wait to download data only in 7 days, forget the processing
lets move on to the)

(base) paras@menten:~/exonsdrive/project/protein_splicing$ 
  rsync -a --ignore-existing 9606_1/source_data/SSP/ projectDir/outdir/poolDoneHuman_27Nov/
  ls
  10090  9606_0               archived_extra     common_pi_repository        evidence            __pdb_pending.lis  scripts.zip
  6239   9606_1               Classes_exons.py   deepanshi_2021.py           extra               projectDir         temp
  7227   9606_old             Classes_exons.pyc  domAna2021                  extras_2021         raw_files          uniref90
  7955   alphafold_human.txt  common_files       efold_common_pi_repository  object_builder1.py  scripts
  

# filling up the pool

(py27) paras@menten:~/exonsdrive/project/protein_splicing

  rsync -a --ignore-existing outdir/oldSet_human19_orgs_18/9606_1/source_data/SSP/ outdir/poolDoneHuman_27Nov/ --dry-run | wc -l
  rsync -a --ignore-existing 9606_1/source_data/SSP/ projectDir/outdir/poolDoneHuman_27Nov/
  rsync -a --ignore-existing 9606_0/source_data/SSP/ projectDir/outdir/poolDoneHuman_27Nov/ --dry-run | wc -l

  rsync -a --ignore-existing 10090/source_data/SSP/ projectDir/outdir/poolDone_10090_28Nov22/
  rsync -a --ignore-existing 7227/source_data/SSP/ projectDir/outdir/poolDone_7227_28Nov22/
  rsync -a --ignore-existing 7955/source_data/SSP/ projectDir/outdir/poolDone_7955_28Nov22/
  rsync -a --ignore-existing 6239/source_data/SSP/ projectDir/outdir/poolDone_6239_28Nov22/

  <!-- untarr ensembl and merge with refseq in unknown pool -->
(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir$
  python bin/1_constructing_data/ensemblMultiFastaToSimple.py outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/human/nameSequence.gz outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/human/protSeq1perfile/
  rsync -a ensembl_25_28nov_22/human/protSeq1perfile/ unknownSSpool9606/
  rsync -a 9606/source_data/Refseq_protein/ unknownSSpool9606/

  python bin/1_constructing_data/ensemblMultiFastaToSimple.py outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/mouse/nameSequence.gz outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/mouse/protSeq1perfile/
    In a ensemble_write_seq Funct()
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/mouse/nameSequence.gz : is a source File
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/mouse/protSeq1perfile/ : is a output Directory
    yes
    Writing individual fasta files from the source ensemble into outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/mouse/protSeq1perfile/
    Processing |####################            | 66511/102245
    empty sequences were 35734

  python bin/1_constructing_data/ensemblMultiFastaToSimple.py outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fly/nameSequence.gz outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fly/protSeq1perfile/
    ----> Into module of multifasta_to_fasta
    In a ensemble_write_seq Funct()
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fly/nameSequence.gz : is a source File
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fly/protSeq1perfile/ : is a output Directory
    yes
    Writing individual fasta files from the source ensemble into outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fly/protSeq1perfile/
    Processing |################################| 30719/30719
    empty sequences were 0

  python bin/1_constructing_data/ensemblMultiFastaToSimple.py outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fish/nameSequence.gz outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fish/protSeq1perfile/
    ----> Into module of multifasta_to_fasta
    In a ensemble_write_seq Funct()
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fish/nameSequence.gz : is a source File
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fish/protSeq1perfile/ : is a output Directory
    yes
    Writing individual fasta files from the source ensemble into outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/fish/protSeq1perfile/
    Processing |#############################   | 51919/57263
    empty sequences were 5344

  python bin/1_constructing_data/ensemblMultiFastaToSimple.py outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/worm/nameSequence.gz outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/worm/protSeq1perfile/
    ----> Into module of multifasta_to_fasta
    In a ensemble_write_seq Funct()
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/worm/nameSequence.gz : is a source File
    outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/worm/protSeq1perfile/ : is a output Directory
    yes
    Writing individual fasta files from the source ensemble into outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/worm/protSeq1perfile/
    Processing |############################### | 31865/32524
    empty sequences were 659

  cd outdir/latest_5_org_2022_27_nov/
(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ 
  rsync -a ensembl_25_28nov_22/mouse/protSeq1perfile/ unknownSSpool10090/
  rsync -a ensembl_25_28nov_22/fish/protSeq1perfile/ unknownSSpool7955/
  rsync -a ensembl_25_28nov_22/fly/protSeq1perfile/ unknownSSpool7227/
  rsync -a ensembl_25_28nov_22/worm/protSeq1perfile/ unknownSSpool6239/

  rsync -a 10090/source_data/Refseq_protein/ unknownSSpool10090/
  rsync -a 6239/source_data/Refseq_protein/ unknownSSpool6239/
  find unknownSSpool10090/ -name "*.faa" -print0 | xargs -0 rename 's/\.faa//'
  find unknownSSpool6239/ -name "*.faa" -print0 | xargs -0 rename 's/\.faa//'
  find unknownSSpool7227/ -name "*.faa" -print0 | xargs -0 rename 's/\.faa//'
  find unknownSSpool7955/ -name "*.faa" -print0 | xargs -0 rename 's/\.faa//'
  rsync -a 7227/source_data/Refseq_protein/ unknownSSpool7227/
  rsync -a 7955/source_data/Refseq_protein/ unknownSSpool7955/

(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir$ 
  find poolDoneHuman_27Nov/ -name "*.dat" -print0 | xargs -0 rm
  ls poolDoneHuman_27Nov/ | wc -l
    131786
  find poolDoneHuman_27Nov/ -name "*.faa" -print0 | xargs -0 rm
  ls poolDoneHuman_27Nov/ | wc -l
  find poolDoneHuman_27Nov/ -name "*faa.dat.ss" -print0 | xargs -0 rename 's/\.faa.dat.ss/\.dat.ss/'

** find ~/temp -type f ! -iname "*.pdf" -delete


<!-- updating ensemble_write_seq() in multifasta_to_fasta for opurpose above -->

  Writing individual fasta files from the source ensemble into outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/human/protSeq1perfile/
  Processing |##############                  | 121541/274081
  empty sequences were 152540
  <!-- they can only be deleted wuith teh ofllwing optio -->

  find outdir/latest_5_org_2022_27_nov/ensembl_25_28nov_22/human/protSeq1perfile/* -delete

## ensembl human sequqnces
replacing extra faa from proteins

  outdir/latest_5_org_2022_27_nov/9606/source_data/SSP
  mkdir outdir/latest_5_org_2022_27_nov/9606/source_data/PendingSSP

  python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/unknownSSpool9606/ outdir/poolDoneHuman_27Nov/ outdir/latest_5_org_2022_27_nov/9606/source_data/SSP/ outdir/latest_5_org_2022_27_nov/9606/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/9606/source_data/mapPendingSSP
    Total Were 252280 entries (147829 non red)
    >3000 Were 748 entries (748 non red)
    PreAss Were 162829 entries (71266 non red)
    RunSet Were 88573 entries (75815 non red)
    (HUman)

  mkdir outdir/latest_5_org_2022_27_nov/10090/source_data/SSP/
  mkdir outdir/latest_5_org_2022_27_nov/6239/source_data/SSP/
  mkdir outdir/latest_5_org_2022_27_nov/7955/source_data/SSP/
  mkdir outdir/latest_5_org_2022_27_nov/7227/source_data/SSP/

  mkdir outdir/latest_5_org_2022_27_nov/10090/source_data/PendingSSP
  mkdir outdir/latest_5_org_2022_27_nov/6239/source_data/PendingSSP
  mkdir outdir/latest_5_org_2022_27_nov/7955/source_data/PendingSSP
  mkdir outdir/latest_5_org_2022_27_nov/7227/source_data/PendingSSP

  python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/unknownSSpool10090/ outdir/poolDone_10090_28Nov22/ outdir/latest_5_org_2022_27_nov/10090/source_data/SSP/ outdir/latest_5_org_2022_27_nov/10090/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/10090/source_data/mapPendingSSP
    Total Were 158911 entries (93957 non red)
    >3000 Were 1170 entries (1170 non red)
    PreAss Were 113159 entries (52133 non red)
    RunSet Were 44246 entries (40654 non red)

  python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/unknownSSpool7227/ outdir/poolDone_7227_28Nov22/ outdir/latest_5_org_2022_27_nov/7227/source_data/SSP/ outdir/latest_5_org_2022_27_nov/7227/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/7227/source_data/mapPendingSSP
    Total Were 61505 entries (22333 non red)
    >3000 Were 186 entries (186 non red)
    PreAss Were 60093 entries (21629 non red)
    RunSet Were 1008 entries (518 non red)

  python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/unknownSSpool7955/ outdir/poolDone_7955_28Nov22/ outdir/latest_5_org_2022_27_nov/7955/source_data/SSP/ outdir/latest_5_org_2022_27_nov/7955/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/7955/source_data/mapPendingSSP
    Total Were 100740 entries (73133 non red)
    >3000 Were 962 entries (962 non red)
    PreAss Were 69025 entries (43422 non red)
    RunSet Were 30636 entries (28749 non red)

  python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/unknownSSpool6239/ outdir/poolDone_6239_28Nov22/ outdir/latest_5_org_2022_27_nov/6239/source_data/SSP/ outdir/latest_5_org_2022_27_nov/6239/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/6239/source_data/mapPendingSSP
    Total Were 60399 entries (28390 non red)
    >3000 Were 220 entries (220 non red)
    PreAss Were 56804 entries (26562 non red)
    RunSet Were 3153 entries (1608 non red)
  
sequence stats

(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls ensembl_25_28nov_22/mouse/protSeq1perfile/ | wc -l
66511
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls ensembl_25_28nov_22/fly/protSeq1perfile/ | wc -l
30719
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls ensembl_25_28nov_22/fish/protSeq1perfile/ | wc -l
51919
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls ensembl_25_28nov_22/worm/protSeq1perfile/ | wc -l
31865
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls ensembl_25_28nov_22/human/protSeq1perfile/ | wc -l
121541


(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls 9606/source_data/Refseq_protein/ | wc -l
130739
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls 10090/source_data/Refseq_protein/ | wc -l
92400
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls 7227/source_data/Refseq_protein/ | wc -l
30786
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls 7955/source_data/Refseq_protein/ | wc -l
48821
(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ ls 6239/source_data/Refseq_protein/ | wc -l
28534

org   ncbi    ensembl
human 130739  121541
mouse 92400 66511
fish  48821 51919
fly 30786 30719
worm  28534 31865


# Updating the dataset
process:
1. transfer data from nabi to local system (menton)
2. unpack ensembl, taking care of the empty protein seuqnqces or seuqqces not available
3. keep 1 and 2 in same folder
4. make folder of previously predicted results
5. run unassigned proeins on them and then run Tasser and map the values
6. pfam is pending
   
(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan$
Bio  ChangeLog  data  pfam_scan.pl  README  scanning.1.sh  scanning_args.sh  scanning.sh  XP_011520886.1
(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan$ 

latest is 35 and above i think is 32, 
can be uopated but need to see how this works, 

1. disordered is pending







wget http://eddylab.org/software/hmmer/hmmer.tar.gz
wget http://ftp.ebi.ac.uk/pub/databases/Pfam/releases/Pfam35.0/Pfam-A.hmm.gz
wget http://ftp.ebi.ac.uk/pub/databases/Pfam/releases/Pfam35.0/Pfam-A.hmm.dat.gz


2040  wget http://eddylab.org/software/hmmer/hmmer.tar.gz
 2041  wget nabip:/scratch/parasv/anjali/hmm* ./
 2042  scp nabip:/scratch/parasv/anjali/hmm* ./
 2043  ls
 2044  tar -xf hmmer.tar.gz 
 2045  ls
 2046  rm hmmer.tar.gz 
 2047  cd hmmer-3.3.2/
 2048  ls
 2049  make
 2050  vi README.md 
 2051  /configure --prefix ~/project/archive2022/softwares/pfam/PfamScan/bin/
 2052  ./configure --prefix ~/project/archive2022/softwares/pfam/PfamScan/bin/
 2053  make 
 2054  ls
 2055  cd ..
 2056  ls
 2057  cd hmmer-3.3.2/
 2058  make install
 2059  ls
 2060  ls ..
 2061  cd ..
 2062  history | tail -30
(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan/bin$ 

(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan/bin$ ls bin/
alimask   hmmbuild    hmmemit   hmmlogo  hmmpgmd_shard  hmmscan    hmmsim   jackhmmer    nhmmer    phmmer
hmmalign  hmmconvert  hmmfetch  hmmpgmd  hmmpress       hmmsearch  hmmstat  makehmmerdb  nhmmscan
(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan/bin$ 

(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan$ bin/bin/hmmpress data35.0/Pfam-A.hmm 
Working...    done.
Pressed and indexed 19632 HMMs (19632 names and 19632 accessions).
Models pressed into binary file:   data35.0/Pfam-A.hmm.h3m
SSI index for binary model file:   data35.0/Pfam-A.hmm.h3i
Profiles (MSV part) pressed into:  data35.0/Pfam-A.hmm.h3f
Profiles (remainder) pressed into: data35.0/Pfam-A.hmm.h3p
(base) paras@menten:~/project/archive2022/softwares/pfam/PfamScan$ 


pfam_scan.pl -fasta XP_011520886.1 -dir data35.0/ testout, it will be done

./scanning_args_23.sh ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/6239/source_data/Refseq_protein/ ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/6239/source_data/pfam/



##########
iupred sessions
./project/archive2022/mysql/project1/bin/iupred_run.py
./project/archive2022/softwares/iupred2a/data/iupred2_short_energy_matrix
./project/archive2022/softwares/iupred2a/data/iupred2_long_energy_matrix
./project/archive2022/softwares/iupred2a/human_iupred.sh
./project/archive2022/softwares/iupred2a/iupred2a.py

(base) paras@menten:~/project/archive2022/softwares/iupred3$ cd 


#!/bin/bash
RES="/home/paras/mysql/disorder/9606/"
PID="/home/paras/mysql/Refseq_protein/9606/"
FILES=$(ls $PID)
counter=0
file_c=$(ls $PID | wc -l)
echo "Total_files=$file_c"
for file in $FILES
        do
                counter=$((counter+1))
                if ! [ -s $RES$file ];then

                #if file exists and is empty or doesnt exists
                        python iupred2a.py  $PID$file long >$RES$file

                        echo "$counter:$file"
                fi
                #break
done


~/project/archive2022/softwares/iupred3

#################################################################




(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/9606/source_data/SSP$ echo ENS* | xargs mv -t ../../../../poolDone_9606_27Nov/ --

(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir$ python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/9606/source_data/Refseq_protein/ outdir/poolDone_9606_27Nov/ outdir/latest_5_org_2022_27_nov/9606/source_data/SSP/ outdir/latest_5_org_2022_27_nov/9606/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/9606/source_data/mapPendingSSP
  Total Were 130739 entries (89018 non red)
  >3000 Were 555 entries (555 non red)
  PreAss Were 129885 entries (88233 non red)
  RunSet Were 254 entries (230 non red)


rm -r outdir/latest_5_org_2022_27_nov/10090/source_data/PendingSSP
python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/10090/source_data/Refseq_protein/ outdir/poolDone_10090_28Nov22/ outdir/latest_5_org_2022_27_nov/10090/source_data/SSP/ outdir/latest_5_org_2022_27_nov/10090/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/10090/source_data/mapPendingSSP
  Total Were 92400 entries (65390 non red)
  >3000 Were 1071 entries (1071 non red)
  PreAss Were 76754 entries (51785 non red)
  RunSet Were 14434 entries (12534 non red)


rm -r outdir/latest_5_org_2022_27_nov/6239/source_data/PendingSSP
python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/6239/source_data/Refseq_protein/ outdir/poolDone_6239_28Nov22/ outdir/latest_5_org_2022_27_nov/6239/source_data/SSP/ outdir/latest_5_org_2022_27_nov/6239/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/6239/source_data/mapPendingSSP
  Total Were 28534 entries (28310 non red)
  >3000 Were 220 entries (220 non red)
  PreAss Were 26748 entries (26526 non red)
  RunSet Were 1566 entries (1564 non red)

rm -r outdir/latest_5_org_2022_27_nov/7227/source_data/PendingSSP
python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/7227/source_data/Refseq_protein/ outdir/poolDone_7227_28Nov22/ outdir/latest_5_org_2022_27_nov/7227/source_data/SSP/ outdir/latest_5_org_2022_27_nov/7227/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/7227/source_data/mapPendingSSP
  Total Were 30786 entries (22266 non red)
  >3000 Were 186 entries (186 non red)
  PreAss Were 30013 entries (21570 non red)
  RunSet Were 569 entries (510 non red)

rm -r outdir/latest_5_org_2022_27_nov/7955/source_data/PendingSSP
python bin/1_constructing_data/unassignedProteins.py outdir/latest_5_org_2022_27_nov/7955/source_data/Refseq_protein/ outdir/poolDone_7955_28Nov22/ outdir/latest_5_org_2022_27_nov/7955/source_data/SSP/ outdir/latest_5_org_2022_27_nov/7955/source_data/PendingSSP outdir/latest_5_org_2022_27_nov/7955/source_data/mapPendingSSP
  Total Were 48821 entries (44159 non red)
  >3000 Were 777 entries (777 non red)
  PreAss Were 47723 entries (43082 non red)
  RunSet Were 302 entries (300 non red)



common_data:/home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/common_files/
pfam-A hmm files are needed here to extract the detailed input of the model length and other files 



mv derived_data/disorder_data/ source_data/


(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/common_files$ wget https://ftp.ncbi.nih.gov/gene/DATA/gene2go.gz
--2023-01-31 16:39:31--  https://ftp.ncbi.nih.gov/gene/DATA/gene2go.gz
Connecting to 172.16.2.251:3128... connected.
Proxy request sent, awaiting response... 200 OK
Length: 27311679 (26M) [application/x-gzip]
Saving to: ‘gene2go.gz’

gene2go.gz                                  100%[==========================================================================================>]  26.05M  2.23MB/s    in 21s     

2023-01-31 16:39:53 (1.25 MB/s) - ‘gene2go.gz’ saved [27311679/27311679]

(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/common_files$ wget https://ftp.ncbi.nih.gov/gene/DATA/gene2ensembl.gz
--2023-01-31 16:40:00--  https://ftp.ncbi.nih.gov/gene/DATA/gene2ensembl.gz
Connecting to 172.16.2.251:3128... connected.
Proxy request sent, awaiting response... 200 OK
Length: 145622241 (139M) [application/x-gzip]
Saving to: ‘gene2ensembl.gz’

gene2ensembl.gz                             100%[==========================================================================================>] 138.88M  6.37MB/s    in 43s     

2023-01-31 16:40:44 (3.23 MB/s) - ‘gene2ensembl.gz’ saved [145622241/145622241]



# has_refseq_ens, has_refseq_swiss = retConForDual(mappings_refseqProtein.refseqEnsemble, os.path.join(pickle_add, "has_refseq_ens_%s.pick" % organism), os.path.join(pickle_add, "has_refseq_swiss_%s.pick" % organism), [pid_add, ens_pid, swiss_pid])
has_refseq_ens = {}
has_refseq_swiss = {}

made the change above


python bin/1_constructing_data/object_builder_latest.py outdir/latest_5_org_2022_27_nov/7227_args_nossconfidence.txt
    ---> In Retriever Module
    --> In Prediction_Assignment_module_successfully

    ---> In mappings_module


    ----> Into module of multifasta_to_fasta

    ->Part:1, Section:has_gene_var_reltionship
    ->Part:2, Section:mapping refseq to swissprot and ensemble
    ->Part:3, Section:gene description
    ->Part:4, Section:Gene ontology
    ->Part:5, Section:storing exonic coordinates from files
    ->Part:6, Section:pfam section
    ->Part:7, Section:seq to exons
    Processing aaseq into exons, gene_wise: |################################| 13985/13985
    Out of total 30755 variants, 30755 were already written, use freshStart mode 2 for rewrite all
    ->Part:8, Section:ss to exons and assignment
    Adding sequences to memory: |################################| 60093/60093
    Predicting sequences for left proteins: |################################| 30786/30786
    -> Newly predicted sequences are: 0
    -> Unassigned sequences are: 696, (186 are greter than 3000)
    -> written pending sequences in /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7227/unassigned_ss
    29982 files in pickle
    60093 raw _set
    Processing ssseq into exons, gene_wise: |################################| 13985/13985
    29982 files in pickle
    60093 raw _set
    Processing ssseq into exons, gene_wise: |################################| 13985/13985
    30755 files in pickle
    30786 raw _set
    Processing disorder into exons, gene_wise: |################################| 13985/13985
    ->Part:9, Section:cath_domains
    done
    ('', '/home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7227/derived_data/exons_wise/ss_exons', 'noStructure', '7227')
    Processing genes |################################| 13972/13972in main program
    ->Part:13, Section:helix_confidence_processing_done
    ->Part:14, Section:congratulations, analysis done too

(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir$ python bin/1_constructing_data/object_builder_latest.py outdir/latest_5_org_2022_27_nov/7955_args_nossconfidence.txt
    ---> In Retriever Module
    --> In Prediction_Assignment_module_successfully

    ---> In mappings_module


    ----> Into module of multifasta_to_fasta

    ->Part:1, Section:has_gene_var_reltionship
    ->Part:2, Section:mapping refseq to swissprot and ensemble
    ->Part:3, Section:gene description
    ->Part:4, Section:Gene ontology
    ->Part:5, Section:storing exonic coordinates from files
    ->Part:6, Section:pfam section
    ->Part:7, Section:seq to exons
    Processing aaseq into exons, gene_wise: |################################| 29949/29949
    Out of total 48821 variants, 48821 were already written, use freshStart mode 2 for rewrite all
    ->Part:8, Section:ss to exons and assignment
    Adding sequences to memory: |################################| 69025/69025
    Predicting sequences for left proteins: |################################| 48821/48821
    -> Newly predicted sequences are: 0
    -> Unassigned sequences are: 1077, (777 are greter than 3000)
    -> written pending sequences in /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7955/unassigned_ss
    47723 files in pickle
    69025 raw _set
    Processing ssseq into exons, gene_wise: |################################| 29949/29949
    47723 files in pickle
    69025 raw _set
    Processing ssseq into exons, gene_wise: |################################| 29949/29949
    48821 files in pickle
    48821 raw _set
    Processing disorder into exons, gene_wise: |################################| 29949/29949
    ->Part:9, Section:cath_domains
    done
    ('', '/home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7955/derived_data/exons_wise/ss_exons', 'noStructure', '7955')
    Processing genes |################################| 26374/26374in main program
    ->Part:13, Section:helix_confidence_processing_done
    ->Part:14, Section:congratulations, analysis done too

(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir$ python bin/1_constructing_data/object_builder_latest.py outdir/latest_5_org_2022_27_nov/6239_args_nossconfidence.txt
    ---> In Retriever Module
    --> In Prediction_Assignment_module_successfully

    ---> In mappings_module


    ----> Into module of multifasta_to_fasta

    Processing gene_var_lits from gene tables: |################################| 19984/19984
    ->Part:1, Section:has_gene_var_reltionship
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/common_files/gene2ensembl.gz
    ->Part:2, Section:mapping refseq to swissprot and ensemble
    ->Part:3, Section:gene description
    ->Part:4, Section:Gene ontology
    ->Part:5, Section:storing exonic coordinates from files
    Processing coordinates from gene tables: |################################| 19984/19984
    ->Part:6, Section:pfam section
    19632
    ->Part:7, Section:seq to exons
    Processing aaseq into exons, gene_wise: |################################| 19984/19984
    Out of total 28534 variants, 0 were already written, use freshStart mode 2 for rewrite all
    ->Part:8, Section:ss to exons and assignment
    Adding sequences to memory: |################################| 56804/56804
    Predicting sequences for left proteins: |################################| 28534/28534
    -> Newly predicted sequences are: 0
    -> Unassigned sequences are: 1784, (220 are greter than 3000)
    -> written pending sequences in /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/6239/unassigned_ss
    0 files in pickle
    56804 raw _set
    Processing ssseq into exons, gene_wise: |################################| 19984/19984
    0 files in pickle
    56804 raw _set
    Processing ssseq into exons, gene_wise: |################################| 19984/19984
    0 files in pickle
    28534 raw _set
    Processing disorder into exons, gene_wise: |################################| 19984/19984
    ->Part:9, Section:cath_domains
    done
    ('', '/home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/6239/derived_data/exons_wise/ss_exons', 'noStructure', '6239')
    Processing genes |################################| 19972/19972in main program
    ->Part:13, Section:helix_confidence_processing_done
    ->Part:14, Section:congratulations, analysis done too

(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir$ python bin/1_constructing_data/object_builder_latest.py outdir/latest_5_org_2022_27_nov/10090_args_nossconfidence.txt
    ---> In Retriever Module
    --> In Prediction_Assignment_module_successfully

    ---> In mappings_module


    ----> Into module of multifasta_to_fasta

    Processing gene_var_lits from gene tables: |################################| 26350/26350
    ->Part:1, Section:has_gene_var_reltionship
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/common_files/gene2ensembl.gz
    ->Part:2, Section:mapping refseq to swissprot and ensemble
    ->Part:3, Section:gene description
    ->Part:4, Section:Gene ontology
    ->Part:5, Section:storing exonic coordinates from files
    Processing coordinates from gene tables: |################################| 26350/26350
    ->Part:6, Section:pfam section
    19632
    ->Part:7, Section:seq to exons
    Processing aaseq into exons, gene_wise: |################################| 26350/26350
    Out of total 92400 variants, 0 were already written, use freshStart mode 2 for rewrite all
    ->Part:8, Section:ss to exons and assignment
    Adding sequences to memory: |################################| 113159/113159
    Predicting sequences for left proteins: |################################| 92400/92400
    -> Newly predicted sequences are: 0
    -> Unassigned sequences are: 13605, (1071 are greter than 3000)
    -> written pending sequences in /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/10090/unassigned_ss
    0 files in pickle
    113159 raw _set
    Processing ssseq into exons, gene_wise: |################################| 26350/26350
    0 files in pickle
    113159 raw _set
    Processing ssseq into exons, gene_wise: |################################| 26350/26350
    0 files in pickle
    92400 raw _set
    Processing disorder into exons, gene_wise: |################################| 26350/26350
    ->Part:9, Section:cath_domains
    done
    ('', '/home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/10090/derived_data/exons_wise/ss_exons', 'noStructure', '10090')
    Processing genes |################################| 22134/22134in main program
    ->Part:13, Section:helix_confidence_processing_done
    ->Part:14, Section:congratulations, analysis done too

python bin/1_constructing_data/object_builder_latest.py outdir/latest_5_org_2022_27_nov/9606_args_nossconfidence.txt
    ---> In Retriever Module
    --> In Prediction_Assignment_module_successfully

    ---> In mappings_module


    ----> Into module of multifasta_to_fasta

    Processing gene_var_lits from gene tables: |################################| 20606/20606
    ->Part:1, Section:has_gene_var_reltionship
    /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/common_files/gene2ensembl.gz
    ->Part:2, Section:mapping refseq to swissprot and ensemble
    ->Part:3, Section:gene description
    ->Part:4, Section:Gene ontology
    ->Part:5, Section:storing exonic coordinates from files
    Processing coordinates from gene tables: |################################| 20606/20606
    ->Part:6, Section:pfam section
    19632
    ->Part:7, Section:seq to exons
    Processing aaseq into exons, gene_wise: |################################| 20606/20606
    Out of total 130739 variants, 0 were already written, use freshStart mode 2 for rewrite all
    ->Part:8, Section:ss to exons and assignment
    Adding sequences to memory: |################################| 129885/129885
    Predicting sequences for left proteins: |################################| 130739/130739
    -> Newly predicted sequences are: 0
    -> Unassigned sequences are: 785, (555 are greter than 3000)
    -> written pending sequences in /home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/9606/unassigned_ss
    0 files in pickle
    129885 raw _set
    Processing ssseq into exons, gene_wise: |################################| 20606/20606
    0 files in pickle
    129885 raw _set
    Processing ssseq into exons, gene_wise: |################################| 20606/20606
    0 files in pickle
    130739 raw _set
    Processing disorder into exons, gene_wise: |################################| 20606/20606
    ->Part:9, Section:cath_domains
    done
    ('', '/home/paras/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/9606/derived_data/exons_wise/ss_exons', 'noStructure', '9606')
    Processing genes |################################| 20443/20443in main program
    ->Part:13, Section:helix_confidence_processing_done
    ->Part:14, Section:congratulations, analysis done too
######## object logs above

######## next queue steps below

mkdir outdir/latest_5_org_2022_27_nov/objectsToDB
mkdir outdir/latest_5_org_2022_27_nov/db_analysis_out2vs2
mkdir outdir/latest_5_org_2022_27_nov/db_analysis_out4vs4

ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7227/derived_data/results/objectsave_7227__noStructure.pick outdir/latest_5_org_2022_27_nov/objectsToDB/
ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7955/derived_data/results/objectsave_7955__noStructure.pick outdir/latest_5_org_2022_27_nov/objectsToDB/
ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/10090/derived_data/results/objectsave_10090__noStructure.pick outdir/latest_5_org_2022_27_nov/objectsToDB/
ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/6239/derived_data/results/objectsave_6239__noStructure.pick outdir/latest_5_org_2022_27_nov/objectsToDB/
ln -s ~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/9606/derived_data/results/objectsave_9606__noStructure.pick outdir/latest_5_org_2022_27_nov/objectsToDB/


python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_9606__noStructure.pick outdir/latest_5_org_2022_27_nov/9606/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_10090__noStructure.pick outdir/latest_5_org_2022_27_nov/10090/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7227__noStructure.pick outdir/latest_5_org_2022_27_nov/7227/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7955__noStructure.pick outdir/latest_5_org_2022_27_nov/7955/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_6239__noStructure.pick outdir/latest_5_org_2022_27_nov/6239/derived_data/resultscsv/general/ &


The follwing are the major rules:
exonMatrix = ca.positionalExonMatrix_forExCharacterization(has[gene])
            #{1: ['U', 'F', [2, 0, 2], 0, 1, 0, 0], 2: ['U', 'A', [0, 0, 0], 0, 1, 0, 0], 3: ['T', 'A', [0, 0, 0], 0, 0, 0, 0], 4: ['T', 'F', [0, 1, 0], 0, 0, 0, 0]}
   # 0th ele, UTMRD tag, 
                    # 1st ele, AGF tag, 
                    # 2nd records children order of ncb, and 
                    # 3rd occurrences of the aa change on this position, (should not be evaluated if values of the ncb counterparts is true
                    # 4th coding intron retention events starting from this
                    # 5th non coding intron retention events starting from this
                    # 6th whether aa has been ever removed from this sequenc



# conda activate base
python bin/db_analysis/transPerGeneComparison.py outdir/latest_5_org_2022_27_nov/db_args_file.sh 2 outdir/latest_5_org_2022_27_nov/db_analysis_out2vs2/
python bin/db_analysis/transPerGeneComparison.py outdir/latest_5_org_2022_27_nov/db_args_file.sh 4 outdir/latest_5_org_2022_27_nov/db_analysis_out4vs4/

Rscript bin/db_analysis/plots.R outdir/latest_5_org_2022_27_nov/db_analysis_out2vs2/ outdir/latest_5_org_2022_27_nov/db_analysis_out2vs2/
Rscript bin/db_analysis/plots.R outdir/latest_5_org_2022_27_nov/db_analysis_out4vs4/ outdir/latest_5_org_2022_27_nov/db_analysis_out4vs4/

#sublinks arent working

python bin/2_object_to_database/T1_mysql.py outdir/latest_5_org_2022_27_nov/objectsToDB/ ./ >eventsDbPythonOutTemp202227nov


rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/6239/derived_data/resultscsv/general/ elegans_general1
rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/10090/derived_data/resultscsv/general/ mouse_general1
rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/9606/derived_data/resultscsv/general/ human_general1
rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7227/derived_data/resultscsv/general/ fly_general1
rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/7955/derived_data/resultscsv/general/ fish_general1


cgi-bin/ html/    
[paras@newJensen ~]$ cd /var/www/
cgi-bin/ html/    
[paras@newJensen ~]$ cd /var/www/
cgi-bin/ html/    
[paras@newJensen ~]$ cd /var/www/html/enactdb/
exonapp/  frontend/ static/   v1/       
[paras@newJensen ~]$ cd /var/www/html/enactdb/
exonapp/  frontend/ static/   v1/       
[paras@newJensen ~]$ cd /var/www/html/enactdb/
[paras@newJensen enactdb]$ ls
db.sqlite3  exonapp  frontend  manage.py  readme  readme.md  static  v1
[paras@newJensen enactdb]$ vi v1/
asgi.py                 __init__.py             __pycache__/            settings.py             settings.py.back3nov22  urls.py                 wsgi.py
[paras@newJensen enactdb]$ vi v1/
asgi.py                 __init__.py             __pycache__/            settings.py             settings.py.back3nov22  urls.py                 wsgi.py
[paras@newJensen enactdb]$ vi v1/settings.py
[paras@newJensen enactdb]$ 


changed itto eactdb22

NETSurf3.0 set
run first the 

mmseqs easy-cluster testPLOD.faa out tmp --min-seq-id 1.0 -c 1.0 --cov-mode 0 >out.log 2>&1

Read
  out_cluster.tsv
  NP_891988.1     NP_891988.1
  NP_000926.2     NP_000926.2
  XP_047304275.1  XP_047304275.1
  XP_047304275.1  XP_016862114.1
  XP_047304275.1  XP_016862114.2
  XP_047304276.1  XP_047304276.1


make list of first column and then, compile them all into 1 fasta file, and then divide them into chunks of 5000 each, 
and run one by one

find 9606/source_data/Refseq_protein/ -type f  -exec cat {} + > 9606_refseq.faa
find 10090/source_data/Refseq_protein/ -type f  -exec cat {} + > 10090_refseq.faa
find 6239/source_data/Refseq_protein/ -type f  -exec cat {} + > 6239_refseq.faa
find 7955/source_data/Refseq_protein/ -type f  -exec cat {} + > 7955_refseq.faa
find 7227/source_data/Refseq_protein/ -type f  -exec cat {} + > 7227_refseq.faa

python ../../bin/1_constructing_data/refineEnsemblDataFasta.py ensembl_25_28nov_22/human/nameSequence.gz ensembl_9606.faa
python ../../bin/1_constructing_data/refineEnsemblDataFasta.py ensembl_25_28nov_22/mouse/nameSequence.gz ensembl_10090.faa
python ../../bin/1_constructing_data/refineEnsemblDataFasta.py ensembl_25_28nov_22/fish/nameSequence.gz ensembl_7955.faa
python ../../bin/1_constructing_data/refineEnsemblDataFasta.py ensembl_25_28nov_22/fly/nameSequence.gz ensembl_7227.faa
python ../../bin/1_constructing_data/refineEnsemblDataFasta.py ensembl_25_28nov_22/worm/nameSequence.gz ensembl_6239.faa

cat 9606_refseq.faa ensembl_9606.faa 10090_refseq.faa ensembl_10090.faa 7227_refseq.faa ensembl_7227.faa 7955_refseq.faa ensembl_7955.faa 6239_refseq.faa ensembl_6239.faa >all_ens_ref.faa

(base) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov$ rsync -av all_ens_ref.faa hulk:~/projects/netsurf3prediction/
(nsp3) paras@hulk:~/projects/netsurf3prediction$ mmseqs easy-cluster all_ens_ref.faa out tmp --min-seq-id 1.0 -c 1.0 --cov-mode 0 >mmseqs.log 2>&1
(nsp3) paras@hulk:~/projects/netsurf3prediction$ scp out_cluster.tsv menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/

python ../../bin/1_constructing_data/divideClusterINto5000Sets.py out_cluster.tsv all_ens_ref.faa cluster5000mmseqs/
Total were 633835 NR were 364949

(nsp3) paras@hulk:~/projects/netsurf3prediction$ rsync -av menton:~/exonsdrive/project/protein_splicing/projectDir/outdir/latest_5_org_2022_27_nov/cluster5000mmseqs/ output_NR_reps_all_ens_ref_mmseq_based/

python ~/softwares/NetSurfP-3.0_standalone/nsp3.py -m ~/softwares/NetSurfP-3.0_standalone/models/nsp3.pth -i output_NR_reps_all_ens_ref_mmseq_based/clsuter_0.faa -o output_NR_reps_all_ens_ref_mmseq_based/clsuter_0_out/ >nsp3_clsuter0.log 2>&1



(py27) paras@menten:~/exonsdrive/project/protein_splicing/projectDir/bin/db_analysis$ 
python getNCBfractionperGenome.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_9606__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/9606/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 
python getNCBfractionperGenome.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_10090__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/10090/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 
python getNCBfractionperGenome.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7955__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/7955/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 
python getNCBfractionperGenome.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7227__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/7227/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 
python getNCBfractionperGenome.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_6239__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/6239/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 

python onlyAlternateExonsGenes.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_9606__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/9606/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 9606
python onlyAlternateExonsGenes.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7955__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/7955/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 7955
python onlyAlternateExonsGenes.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7227__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/7227/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 7227
python onlyAlternateExonsGenes.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_10090__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/10090/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 10090
python onlyAlternateExonsGenes.py ../../outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_6239__noStructure.pick ../../outdir/latest_5_org_2022_27_nov/6239/derived_data/resultscsv/general/F1_Condition_3000Pilength_2Isf_2ExCount/condition_genes.pick 6239


# ontology mapper wont have M cases actually


python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_9606__noStructure.pick 9606 outdir/latest_5_org_2022_27_nov/9606/derived_data/results/alnfile outdir/latest_5_org_2022_27_nov/9606/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_10090__noStructure.pick 10090 outdir/latest_5_org_2022_27_nov/10090/derived_data/results/alnfile outdir/latest_5_org_2022_27_nov/10090/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7955__noStructure.pick 7955 outdir/latest_5_org_2022_27_nov/7955/derived_data/results/alnfile outdir/latest_5_org_2022_27_nov/7955/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_7227__noStructure.pick 7227 outdir/latest_5_org_2022_27_nov/7227/derived_data/results/alnfile outdir/latest_5_org_2022_27_nov/7227/derived_data/resultscsv/general/ &
python bin/creating_figures_python/Fig1_general_stats.py outdir/latest_5_org_2022_27_nov/objectsToDB/objectsave_6239__noStructure.pick 6239 outdir/latest_5_org_2022_27_nov/6239/derived_data/results/alnfile outdir/latest_5_org_2022_27_nov/6239/derived_data/resultscsv/general/ &
